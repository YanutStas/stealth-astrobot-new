// üìÅ src/commands/Client/Pay/love.js
const createFeature = require("./featureFactory");

module.exports = (bot, flow) =>
  createFeature(bot, flow, {
    key: "love",
    buttonId: "love_start",
    label: "–∞–Ω–∞–ª–∏–∑ –ª—é–±–≤–∏ –∏ –æ—Ç–Ω–æ—à–µ–Ω–∏–π",
    price: 50, // ‚ÇΩ, –æ–ø–ª–∞—Ç–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–º –Ω–∞ –∫–∞—Ä—Ç—É

    /* —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —à–∞–±–ª–æ–Ω—ã */
    waitText: "üíå –ß–∏—Ç–∞—é –ª—é–±–æ–≤–Ω—ã–µ –ª–∏–Ω–∏–∏‚Ä¶",
    hintText:
      "‚ùó *–¢—Ä–∏ —Å—Ç—Ä–æ–∫–∏:*\n" +
      "1) üìÖ –î–∞—Ç–∞ ‚è∞ –í—Ä–µ–º—è üó∫ –ì–æ—Ä–æ–¥\n" +
      "2) üíñ –°—Ç–∞—Ç—É—Å\n" +
      "3) ‚ùì –í–æ–ø—Ä–æ—Å",
    askText:
      "‚ú® –û–ø–ª–∞—Ç–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞!\n\n" +
      "–î–ª—è *–∞–Ω–∞–ª–∏–∑–∞ –ª—é–±–≤–∏ –∏ –æ—Ç–Ω–æ—à–µ–Ω–∏–π* –ø—Ä–∏—à–ª–∏:\n" +
      "1) üìÖ –î–∞—Ç–∞ ‚è∞ –í—Ä–µ–º—è üó∫ –ì–æ—Ä–æ–¥\n" +
      "2) üíñ –°–µ–º–µ–π–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ\n" +
      "3) ‚ùì –ß—Ç–æ –≤–æ–ª–Ω—É–µ—Ç\n\n" +
      "–ü—Ä–∏–º–µ—Ä:\n" +
      "1) 01.01.2000 10:00 –ú–æ—Å–∫–≤–∞\n" +
      "2) –≤—Å—Ç—Ä–µ—á–∞—é—Å—å\n" +
      "3) –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö?",

    /* –≤—Ö–æ–¥–Ω–æ–π —Ñ–æ—Ä–º–∞—Ç (—Ç—Ä–∏ —Å—Ç—Ä–æ–∫–∏) */
    regExp:
      /^\s*(?:1\)\s*)?(\d{2}\.\d{2}\.\d{4}\s+\d{2}:\d{2}\s+.+?)\s*(?:\r?\n|\r)\s*(?:2\)\s*)?(.+?)\s*(?:\r?\n|\r)\s*(?:3\)\s*)?(.+)$/,

    /* system-prompt –¥–ª—è LLM */
    sysMsg:
      "–û—Ç–≤–µ—á–∞–π –ø—è—Ç—å—é –±–ª–æ–∫–∞–º–∏: –ª–∏—á–Ω–∞—è —ç–Ω–µ—Ä–≥–∏—è, —ç–º–æ—Ü–∏–∏, –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª, –ø—Ä–æ–±–ª–µ–º—ã, —Å–æ–≤–µ—Ç. ‚â§1200 —Å–∏–º–≤–æ–ª–æ–≤.",

    /* —Ñ–æ—Ä–º–∏—Ä—É–µ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π prompt */
    buildPrompt: ([, birth, status, what]) =>
      `
–°–¥–µ–ª–∞–π –∞–Ω–∞–ª–∏–∑ –ª—é–±–≤–∏ –∏ –æ—Ç–Ω–æ—à–µ–Ω–∏–π –ø–æ 5 –ø—É–Ω–∫—Ç–∞–º:

1. ‚ù§Ô∏è –õ–∏—á–Ω–∞—è –ª—é–±–æ–≤—å-—ç–Ω–µ—Ä–≥–∏—è  
2. üíû –≠–º–æ—Ü–∏–∏ / –≤—ã—Ä–∞–∂–µ–Ω–∏–µ —á—É–≤—Å—Ç–≤  
3. üíç –ü–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∏–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª  
4. ‚ö†Ô∏è –¢–æ—á–∫–∏ —Ä–æ—Å—Ç–∞ / –ø—Ä–æ–±–ª–µ–º—ã  
5. ‚ú® –°–æ–≤–µ—Ç –Ω–∞ –±–ª–∏–∂–∞–π—à–∏–π –≥–æ–¥  

–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è: ${birth.trim()}  
–°–µ–º–µ–π–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ: ${status.trim()}  
–ß—Ç–æ –≤–æ–ª–Ω—É–µ—Ç: ${what.trim()}
`.trim(),
  });
